{% load static %}

{% block content %}
<!-- Toast Messages Container -->
<div class="toast-container position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 1100;">
    {% if messages %}
        {% for message in messages %}
            <div class="toast show align-items-center text-white bg-{{ message.tags|default:'primary' }} border-0" 
                 role="alert" 
                 aria-live="assertive" 
                 aria-atomic="true">
                <div class="d-flex">
                    <div class="toast-body">
                        {{ message }}
                    </div>
                    <button type="button" 
                            class="btn-close btn-close-white me-2 m-auto" 
                            data-bs-dismiss="toast" 
                            aria-label="Close">
                    </button>
                </div>
            </div>
        {% endfor %}
    {% endif %}
</div>

<!-- Add this script at the end of your msg.html -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get all toast elements
        const toastElements = document.querySelectorAll('.toast');
        
        // Initialize each toast
        toastElements.forEach(function(toastEl) {
            // Auto hide after 5 seconds
            setTimeout(function() {
                toastEl.classList.remove('show');
                // Remove element after fade out
                setTimeout(function() {
                    toastEl.remove();
                }, 300);
            }, 5000);

            // Add click handler for close button
            const closeBtn = toastEl.querySelector('.btn-close');
            if (closeBtn) {
                closeBtn.addEventListener('click', function() {
                    toastEl.classList.remove('show');
                    setTimeout(function() {
                        toastEl.remove();
                    }, 300);
                });
            }
        });
    });
</script>
{% endblock content %}